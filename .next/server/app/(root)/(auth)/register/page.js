(()=>{var e={};e.id=28,e.ids=[28],e.modules={1752:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(37413);function a({children:e}){return(0,t.jsx)(t.Fragment,{children:e})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12121:(e,r,s)=>{"use strict";s.r(r),s.d(r,{"0031570bc759c0a1c4042f989bbdff9bf171fb879c":()=>x,"00881bae8f05448ef26691dde78644ec64853adbe4":()=>h,"00aeff00511bc7b2f41743f005b73bc2abe3625343":()=>g,"402bb3c2eb4bde8ed66076672e4477366da101d9cd":()=>E,"4077f5aec2583f6c314857b640a085ff381fc613f4":()=>b,"40b3e753973264fc71b3f76118a2e9b4c3a0b0996e":()=>v,"40cc8c0fe3eb7cb174b93be33b61276ffab6ff9f6e":()=>f});var t=s(91199);s(42087);var a=s(53491),n=s(74208),o=s(98715),i=s(90141),c=s(33331);async function d(e){let r=(0,o.i)(e);(await (0,n.UL)()).set("auth-token",e,{httpOnly:!0,expires:new Date(1e3*r.exp),path:"/"})}async function l(){let e=await (0,n.UL)();for(let r of(e.delete("auth-token"),e.getAll()))e.delete(r.name);(0,i.redirect)("/")}async function m(){let e=await (0,n.UL)();return e.get("auth-token")?.value}async function u(){let e=(await (0,n.UL)()).get("auth-token");if(e?.value){let r=(0,o.i)(e.value);return{firstname:r.firstname,lastname:r.lastname,username:r.username}}}(0,c.D)([d,l,m,u]),(0,t.A)(d,"407f25792d9834d711c35b433c61ca52c86d3331c1",null),(0,t.A)(l,"0065b4335208197967dd93ce332e99c4f7c8800bc5",null),(0,t.A)(m,"001e719152a6a240ec7275ce1c40ee723a2d3cdf4b",null),(0,t.A)(u,"00051d4bd51c4e85921943b90d257c7b49b3380aca",null);let p="https://api.deadliners.lareunion.webcup.hodi.host/api/auth";async function f(e){try{let r=await a.A.post(`${p}/login`,e,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(200===r.status)return await d(r.data.token),{code:"LOGIN_SUCCEED",message:"Connexion \xe9tablie !"};return{code:"LOGIN_FAILED",message:r.data.message}}catch(e){if(e.response?.status===401)return{code:"LOGIN_FAILED",message:"Identifiants invalides."};{if("ECONNREFUSED"==e.code)return{code:"LOGIN_ERROR",message:"Erreur : L'API est injoignable."};let r=e.response;return{code:"LOGIN_ERROR",message:`Erreur : ${r.data?.message??e.code}`}}}}async function b(e){try{let r=await a.A.post(`${p}/register`,e,{headers:{"Content-Type":"application/json",Accept:"application/json"}});if(200===r.status)return{code:"REGISTER_SUCCEED",message:r.data.message};return{code:"REGISTER_FAILED",message:r.data.message}}catch(e){if("ECONNREFUSED"==e.code)return{code:"REGISTER_ERROR",message:"Erreur : L'API est injoignable."};{let r=e.response;return{code:"REGISTER_ERROR",message:`Erreur : ${r.data?.message??e.code}`}}}}async function h(){try{let e=await a.A.get(`${p}/refresh`,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${await m()}`}});if(200!==e.status)return{code:"REFRESH_FAILED",message:e.data.message};{await d(e.data.token);let r=(0,o.i)(e.data.token);return{code:"REFRESH_SUCCEED",message:`Session actualis\xe9e pour ${r.username} !`}}}catch(e){if(e.response?.status===401)return{code:"REFRESH_FAILED",message:"Vous n'\xeates pas connect\xe9."};{if("ECONNREFUSED"==e.code)return{code:"REFRESH_ERROR",message:"Erreur : L'API est injoignable."};let r=e.response;return{code:"REFRESH_ERROR",message:`Erreur : ${r.data?.message??e.code}`}}}}async function x(){await l()}async function g(){return void 0!==await m()}async function E(e){try{let r=await a.A.post(`${p}/change-password`,e,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${await m()}`}});if(200===r.status)return{code:"REQUEST_SUCCEED",message:r.data.message};return{code:"REQUEST_FAILED",message:r.data.message}}catch(e){if(e.response?.status===401)return{code:"REQUEST_FAILED",message:"Vous n'\xeates pas connect\xe9."};{if("ECONNREFUSED"==e.code)return{code:"REQUEST_ERROR",message:"Erreur : L'API est injoignable."};let r=e.response;return{code:"REQUEST_ERROR",message:`Erreur : ${r.data?.message??e.code}`}}}}async function v(e){try{let r=await a.A.post(`${p}/edit-account`,e,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${await m()}`}});if(200===r.status)return{code:"REQUEST_SUCCEED",message:r.data.message};return{code:"REQUEST_FAILED",message:r.data.message}}catch(e){if(e.response?.status===401)return{code:"REQUEST_FAILED",message:"Vous n'\xeates pas connect\xe9."};{if("ECONNREFUSED"==e.code)return{code:"REQUEST_ERROR",message:"Erreur : L'API est injoignable."};let r=e.response;return{code:"REQUEST_ERROR",message:`Erreur : ${r.data?.message??e.code}`}}}}(0,c.D)([f,b,h,x,g,E,v]),(0,t.A)(f,"40cc8c0fe3eb7cb174b93be33b61276ffab6ff9f6e",null),(0,t.A)(b,"4077f5aec2583f6c314857b640a085ff381fc613f4",null),(0,t.A)(h,"00881bae8f05448ef26691dde78644ec64853adbe4",null),(0,t.A)(x,"0031570bc759c0a1c4042f989bbdff9bf171fb879c",null),(0,t.A)(g,"00aeff00511bc7b2f41743f005b73bc2abe3625343",null),(0,t.A)(E,"402bb3c2eb4bde8ed66076672e4477366da101d9cd",null),(0,t.A)(v,"40b3e753973264fc71b3f76118a2e9b4c3a0b0996e",null)},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},23809:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>l,routeModule:()=>u,tree:()=>d});var t=s(65239),a=s(48088),n=s(88170),o=s.n(n),i=s(30893),c={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(r,c);let d={children:["",{children:["(root)",{children:["(auth)",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,97975)),"/Users/tepicharme/Developer/NextJS/webcup-2025-front/app/(root)/(auth)/register/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1752)),"/Users/tepicharme/Developer/NextJS/webcup-2025-front/app/(root)/(auth)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,42528)),"/Users/tepicharme/Developer/NextJS/webcup-2025-front/app/(root)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/tepicharme/Developer/NextJS/webcup-2025-front/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/Users/tepicharme/Developer/NextJS/webcup-2025-front/app/(root)/(auth)/register/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(root)/(auth)/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27382:(e,r,s)=>{Promise.resolve().then(s.bind(s,37590))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34891:(e,r,s)=>{Promise.resolve().then(s.bind(s,99718)),Promise.resolve().then(s.t.bind(s,85814,23)),Promise.resolve().then(s.t.bind(s,46533,23))},42528:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(37413);function a({children:e}){return(0,t.jsx)(t.Fragment,{children:e})}},46055:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57779:(e,r,s)=>{"use strict";s.d(r,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/tepicharme/Developer/NextJS/webcup-2025-front/components/forms/register-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tepicharme/Developer/NextJS/webcup-2025-front/components/forms/register-form.tsx","default")},58014:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c,metadata:()=>i});var t=s(37413),a=s(13483),n=s.n(a);s(82704);var o=s(5625);let i={title:"TheEnd.page - Claque la porte avec style",description:"Cr\xe9ez votre page de d\xe9part m\xe9morable - pour quitter votre job, votre couple, ou n'importe quoi d'autre - avec tout le drama que \xe7a m\xe9rite."};function c({children:e}){return(0,t.jsx)("html",{lang:"fr","data-theme":"the-end-page",children:(0,t.jsxs)("body",{className:`${n().className}`,children:[e,(0,t.jsx)(o.Toaster,{position:"bottom-center",toastOptions:{style:{borderRadius:"2rem",boxShadow:"1rem",backgroundColor:"#FFFFFFFF",color:"#090909FF",borderColor:"#FFFFFFFF",borderWidth:"0.5px"},success:{style:{backgroundColor:"#9AE600FF",borderColor:"#9AE600FF",color:"#FFFFFFFF"},iconTheme:{primary:"#9AE600FF",secondary:"#FFFFFFFF"}},error:{style:{backgroundColor:"#FF2056FF",borderColor:"#FF2056FF",color:"#FFFFFFFF"},iconTheme:{primary:"#FF2056FF",secondary:"#FFFFFFFF"}}}})]})})}},60456:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64334:(e,r,s)=>{Promise.resolve().then(s.bind(s,5625))},74075:e=>{"use strict";e.exports=require("zlib")},74643:(e,r,s)=>{Promise.resolve().then(s.bind(s,57779)),Promise.resolve().then(s.t.bind(s,4536,23)),Promise.resolve().then(s.t.bind(s,49603,23))},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82704:()=>{},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{},96904:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},97975:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(37413),a=s(57779),n=s(53384),o=s(4536),i=s.n(o);function c(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("section",{className:"flex flex-col items-center justify-center gap-8 h-dvh p-3",children:[(0,t.jsx)(n.default,{src:"/images/logo.svg",alt:"TheEndPage logo",priority:!0,width:64,height:64}),(0,t.jsx)(a.default,{}),(0,t.jsx)(i(),{href:"/login",className:"btn btn-neutral",children:"Connexion"})]})})}},99718:(e,r,s)=>{"use strict";s.d(r,{default:()=>b});var t=s(60687),a=s(43210),n=s(45880);let o=n.z.object({email:n.z.string({message:"Une adresse e-mail est requise."}).nonempty({message:"Une adresse est requise."}).trim(),firstname:n.z.string({message:"Un pr\xe9nom est requis."}).nonempty({message:"Un pr\xe9nom est requis."}).trim(),lastname:n.z.string({message:"Un nom est requis."}).nonempty({message:"Une adresse est requis."}).trim(),password:n.z.string().nonempty({message:"Un mot de passe est requis."}).trim(),confirmPassword:n.z.string().nonempty({message:"Une confirmation du mot de passe est requis."}).trim()}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Les deux nouveaux mots de passe doivent \xeatre identiques."});var i=s(27605),c=s(63442),d=s(32539),l=s(54427),m=s(6475);let u=(0,m.createServerReference)("4077f5aec2583f6c314857b640a085ff381fc613f4",m.callServer,void 0,m.findSourceMapURL,"register");var p=s(16189),f=s(37590);function b(){let[e,r]=(0,a.useState)(!0),s=(0,i.mN)({resolver:(0,c.u)(o),defaultValues:{email:"",firstname:"",lastname:"",password:"",confirmPassword:""}}),n=async e=>{r(!1);let s=await u(e);"REGISTER_SUCCEED"==s.code?(f.Ay.success(s.message,{duration:1e4}),(0,p.redirect)("/login")):f.Ay.error(s.message),r(!0)};return(0,t.jsx)("form",{onSubmit:s.handleSubmit(n),className:"card w-full md:w-auto",children:(0,t.jsxs)("section",{className:"card-body items-center",children:[(0,t.jsx)("h2",{className:"card-title",children:"Inscription"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0 md:gap-5 w-full",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.xI,{control:s.control,name:"email",render:({field:e})=>(0,t.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,t.jsx)("legend",{className:"fieldset-legend",children:"Identifiant"}),(0,t.jsx)("input",{type:"text",className:"input",...e}),s.formState.errors.email&&(0,t.jsxs)("div",{role:"alert",className:"form-error",children:[(0,t.jsx)(d.i,{className:"icon"}),(0,t.jsx)("div",{children:s.formState.errors.email.message})]})]})}),(0,t.jsx)(i.xI,{control:s.control,name:"password",render:({field:e})=>(0,t.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,t.jsx)("legend",{className:"fieldset-legend",children:"Mot de passe"}),(0,t.jsx)("input",{type:"password",className:"input",...e}),s.formState.errors.password&&(0,t.jsxs)("div",{role:"alert",className:"form-error",children:[(0,t.jsx)(d.i,{className:"icon"}),(0,t.jsx)("div",{children:s.formState.errors.password.message})]})]})}),(0,t.jsx)(i.xI,{control:s.control,name:"confirmPassword",render:({field:e})=>(0,t.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,t.jsx)("legend",{className:"fieldset-legend",children:"Confirmer le mot de passe"}),(0,t.jsx)("input",{type:"password",className:"input",...e}),s.formState.errors.confirmPassword&&(0,t.jsxs)("div",{role:"alert",className:"form-error",children:[(0,t.jsx)(d.i,{className:"icon"}),(0,t.jsx)("div",{children:s.formState.errors.confirmPassword.message})]})]})})]}),(0,t.jsxs)("div",{className:"h-full flex flex-col justify-center",children:[(0,t.jsx)(i.xI,{control:s.control,name:"firstname",render:({field:e})=>(0,t.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,t.jsx)("legend",{className:"fieldset-legend",children:"Pr\xe9nom"}),(0,t.jsx)("input",{type:"text",className:"input",...e}),s.formState.errors.firstname&&(0,t.jsxs)("div",{role:"alert",className:"form-error",children:[(0,t.jsx)(d.i,{className:"icon"}),(0,t.jsx)("div",{children:s.formState.errors.firstname.message})]})]})}),(0,t.jsx)(i.xI,{control:s.control,name:"lastname",render:({field:e})=>(0,t.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,t.jsx)("legend",{className:"fieldset-legend",children:"Nom"}),(0,t.jsx)("input",{type:"text",className:"input",...e}),s.formState.errors.lastname&&(0,t.jsxs)("div",{role:"alert",className:"form-error",children:[(0,t.jsx)(d.i,{className:"icon"}),(0,t.jsx)("div",{children:s.formState.errors.lastname.message})]})]})})]})]}),(0,t.jsx)("div",{className:"card-actions justify-end",children:(0,t.jsx)("fieldset",{className:"fieldset",children:(0,t.jsx)("div",{className:"mx-auto",children:(0,t.jsx)("button",{className:"btn btn-primary",type:e?"submit":"button",disabled:!e,children:e?"Inscription":(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.N,{weight:"bold",className:"icon animate-spin"})})})})})})]})})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[447,80,658,814,943,647,871],()=>s(23809));module.exports=t})();