{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/tepicharme/Developer/NextJS/webcup-2025-front/libs/actions/session.ts"],"sourcesContent":["\"use server\";\n\nimport {cookies} from \"next/headers\";\nimport {decodeJwt} from \"jose\";\nimport {redirect} from \"next/navigation\";\n\nexport type JwtTokenData = {\n    iat: number,\n    exp: number,\n    roles: string[],\n    username: string,\n    firstname: string,\n    lastname: string,\n    created_at: string\n};\n\nexport type UserData = {\n    firstname: string,\n    lastname: string,\n    username: string,\n    created_at: string\n};\n\nexport async function createSession(jwtToken: string): Promise<void> {\n    const tokenData: JwtTokenData = decodeJwt(jwtToken);\n    const cookieManager = await cookies();\n\n    if (process.env.NEXT_PUBLIC_SECURE_COOKIE === \"secure\") {\n        cookieManager.set(\"auth-token\", jwtToken, {\n            httpOnly: true,\n            secure: true,\n            expires: new Date(tokenData.exp * 1000),\n            path: \"/\"\n        })\n    } else {\n        cookieManager.set(\"auth-token\", jwtToken, {\n            httpOnly: true,\n            expires: new Date(tokenData.exp * 1000),\n            path: \"/\"\n        })\n    }\n}\n\nexport async function destroySession(): Promise<void> {\n    const cookieManager = await cookies();\n    cookieManager.delete(\"auth-token\");\n    for (const cookie of cookieManager.getAll()) {\n        cookieManager.delete(cookie.name)\n    }\n    redirect(\"/\")\n}\n\nexport async function getAuthenticationToken(): Promise<string | undefined> {\n    const cookieManager = await cookies();\n    return cookieManager.get(\"auth-token\")?.value;\n}\n\nexport async function getUserData(): Promise<UserData | undefined> {\n    const cookieManager = await cookies();\n    const cookie = cookieManager.get(\"auth-token\");\n\n    if (cookie?.value) {\n        const details: JwtTokenData = decodeJwt(cookie.value);\n        return {\n            firstname: details.firstname,\n            lastname: details.lastname,\n            username: details.username,\n            created_at: details.created_at,\n        };\n    } else {\n        return undefined;\n    }\n}"],"names":[],"mappings":";;;;;;;;AAEA;AACA;AACA;AAAA;;;;;;;AAmBO,eAAe,cAAc,QAAgB;IAChD,MAAM,YAA0B,CAAA,GAAA,4JAAA,CAAA,YAAS,AAAD,EAAE;IAC1C,MAAM,gBAAgB,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAElC,uCAAwD;;IAOxD,OAAO;QACH,cAAc,GAAG,CAAC,cAAc,UAAU;YACtC,UAAU;YACV,SAAS,IAAI,KAAK,UAAU,GAAG,GAAG;YAClC,MAAM;QACV;IACJ;AACJ;AAEO,eAAe;IAClB,MAAM,gBAAgB,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAClC,cAAc,MAAM,CAAC;IACrB,KAAK,MAAM,UAAU,cAAc,MAAM,GAAI;QACzC,cAAc,MAAM,CAAC,OAAO,IAAI;IACpC;IACA,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;AACb;AAEO,eAAe;IAClB,MAAM,gBAAgB,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAClC,OAAO,cAAc,GAAG,CAAC,eAAe;AAC5C;AAEO,eAAe;IAClB,MAAM,gBAAgB,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAClC,MAAM,SAAS,cAAc,GAAG,CAAC;IAEjC,IAAI,QAAQ,OAAO;QACf,MAAM,UAAwB,CAAA,GAAA,4JAAA,CAAA,YAAS,AAAD,EAAE,OAAO,KAAK;QACpD,OAAO;YACH,WAAW,QAAQ,SAAS;YAC5B,UAAU,QAAQ,QAAQ;YAC1B,UAAU,QAAQ,QAAQ;YAC1B,YAAY,QAAQ,UAAU;QAClC;IACJ,OAAO;QACH,OAAO;IACX;AACJ;;;IAjDsB;IAoBA;IASA;IAKA;;AAlCA,+OAAA;AAoBA,+OAAA;AASA,+OAAA;AAKA,+OAAA","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/tepicharme/Developer/NextJS/webcup-2025-front/components/controls/backoffice/logout-modal.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/controls/backoffice/logout-modal.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/controls/backoffice/logout-modal.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmT,GAChV,iFACA","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/tepicharme/Developer/NextJS/webcup-2025-front/components/controls/backoffice/logout-modal.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/controls/backoffice/logout-modal.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/controls/backoffice/logout-modal.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///Users/tepicharme/Developer/NextJS/webcup-2025-front/components/controls/backoffice/header.tsx"],"sourcesContent":["import {getUserData, UserData} from \"@/libs/actions/session\";\nimport React from \"react\";\nimport LogoutModal from \"@/components/controls/backoffice/logout-modal\";\nimport {UserCircleIcon, HouseIcon} from \"@phosphor-icons/react/dist/ssr\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\n\nexport default async function Header() {\n    const userData: UserData = await getUserData() as UserData;\n\n    return (\n        <>\n            <div className=\"hidden md:flex navbar shadow-sm py-6\">\n                <div className=\"navbar-start gap-2\">\n                    <Link href=\"/account\" className=\"btn\">\n                        <UserCircleIcon weight=\"bold\" className=\"h-6 w-6\" /> <span className=\"hidden md:flex\">Profil</span>\n                    </Link>\n                    <Link href=\"/dashboard\" className=\"btn\">\n                        <HouseIcon weight=\"bold\" className=\"h-6 w-6\" /> <span className=\"hidden md:flex\">Menu</span>\n                    </Link>\n                </div>\n                <div className=\"navbar-center\">\n                    <Image src=\"/images/logo.svg\" alt=\"TheEndPage logo\" priority={true} width={116} height={116}/>\n                </div>\n                <div className=\"navbar-end\">\n                    <LogoutModal userData={userData} />\n                </div>\n            </div>\n\n            <div className=\"flex md:hidden navbar shadow-sm py-6\">\n                <div className=\"navbar-center justify-center w-full gap-2\">\n                    <Image src=\"/images/logo.svg\" alt=\"TheEndPage logo\" priority={true} width={124} height={124}/>\n                </div>\n            </div>\n        </>\n    );\n}"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AAAA;AACA;AACA;;;;;;;AAEe,eAAe;IAC1B,MAAM,WAAqB,MAAM,CAAA,GAAA,0HAAA,CAAA,cAAW,AAAD;IAE3C,qBACI;;0BACI,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAW,WAAU;;kDAC5B,8OAAC,+KAAA,CAAA,iBAAc;wCAAC,QAAO;wCAAO,WAAU;;;;;;oCAAY;kDAAC,8OAAC;wCAAK,WAAU;kDAAiB;;;;;;;;;;;;0CAE1F,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAa,WAAU;;kDAC9B,8OAAC,0KAAA,CAAA,YAAS;wCAAC,QAAO;wCAAO,WAAU;;;;;;oCAAY;kDAAC,8OAAC;wCAAK,WAAU;kDAAiB;;;;;;;;;;;;;;;;;;kCAGzF,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,6HAAA,CAAA,UAAK;4BAAC,KAAI;4BAAmB,KAAI;4BAAkB,UAAU;4BAAM,OAAO;4BAAK,QAAQ;;;;;;;;;;;kCAE5F,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,wJAAA,CAAA,UAAW;4BAAC,UAAU;;;;;;;;;;;;;;;;;0BAI/B,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC,6HAAA,CAAA,UAAK;wBAAC,KAAI;wBAAmB,KAAI;wBAAkB,UAAU;wBAAM,OAAO;wBAAK,QAAQ;;;;;;;;;;;;;;;;;;AAK5G","debugId":null}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///Users/tepicharme/Developer/NextJS/webcup-2025-front/components/controls/backoffice/footer.tsx"],"sourcesContent":["import {getUserData, UserData} from \"@/libs/actions/session\";\nimport React from \"react\";\nimport LogoutModal from \"@/components/controls/backoffice/logout-modal\";\nimport {UserCircleIcon, HouseIcon} from \"@phosphor-icons/react/dist/ssr\";\nimport Link from \"next/link\";\n\nexport default async function Footer() {\n    const userData: UserData = await getUserData() as UserData;\n\n    return (\n        <>\n            <div className=\"dock py-6 gap-4 flex md:hidden\">\n                <div>\n                    <Link href=\"/account\" className=\"btn\">\n                        <UserCircleIcon weight=\"bold\" className=\"h-6 w-6\" /> <span className=\"hidden md:flex\">Profil</span>\n                    </Link>\n                </div>\n                <div>\n                    <Link href=\"/dashboard\" className=\"btn\">\n                        <HouseIcon weight=\"bold\" className=\"h-6 w-6\" /> <span className=\"hidden md:flex\">Menu</span>\n                    </Link>\n                </div>\n                <div>\n                    <LogoutModal userData={userData} />\n                </div>\n            </div>\n        </>\n    );\n}"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AAAA;AACA;;;;;;AAEe,eAAe;IAC1B,MAAM,WAAqB,MAAM,CAAA,GAAA,0HAAA,CAAA,cAAW,AAAD;IAE3C,qBACI;kBACI,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;8BACG,cAAA,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAW,WAAU;;0CAC5B,8OAAC,+KAAA,CAAA,iBAAc;gCAAC,QAAO;gCAAO,WAAU;;;;;;4BAAY;0CAAC,8OAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;;;;;;;8BAG9F,8OAAC;8BACG,cAAA,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAa,WAAU;;0CAC9B,8OAAC,0KAAA,CAAA,YAAS;gCAAC,QAAO;gCAAO,WAAU;;;;;;4BAAY;0CAAC,8OAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;;;;;;;8BAGzF,8OAAC;8BACG,cAAA,8OAAC,wJAAA,CAAA,UAAW;wBAAC,UAAU;;;;;;;;;;;;;;;;;;AAK3C","debugId":null}},
    {"offset": {"line": 391, "column": 0}, "map": {"version":3,"sources":["file:///Users/tepicharme/Developer/NextJS/webcup-2025-front/app/%28root%29/%28backoffice%29/layout.tsx"],"sourcesContent":["import React, {ReactNode} from \"react\";\nimport Header from \"@/components/controls/backoffice/header\";\nimport Footer from \"@/components/controls/backoffice/footer\";\n\nexport default function RootLayout({children}: Readonly<{ children: ReactNode }>) {\n    return (\n        <>\n            <Header/>\n            {children}\n            <Footer/>\n        </>\n    );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;;AAEe,SAAS,WAAW,EAAC,QAAQ,EAAoC;IAC5E,qBACI;;0BACI,8OAAC,+IAAA,CAAA,UAAM;;;;;YACN;0BACD,8OAAC,+IAAA,CAAA,UAAM;;;;;;;AAGnB","debugId":null}}]
}