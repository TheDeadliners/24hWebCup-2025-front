(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[28],{517:(e,s,r)=>{Promise.resolve().then(r.bind(r,1434)),Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,3063,23))},1434:(e,s,r)=>{"use strict";r.d(s,{default:()=>j});var a=r(5155),t=r(2115),n=r(5594);let i=n.z.object({email:n.z.string({message:"Une adresse e-mail est requise."}).nonempty({message:"Une adresse est requise."}).trim(),firstname:n.z.string({message:"Un pr\xe9nom est requis."}).nonempty({message:"Un pr\xe9nom est requis."}).trim(),lastname:n.z.string({message:"Un nom est requis."}).nonempty({message:"Une adresse est requis."}).trim(),password:n.z.string().nonempty({message:"Un mot de passe est requis."}).trim(),confirmPassword:n.z.string().nonempty({message:"Une confirmation du mot de passe est requis."}).trim()}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"Les deux nouveaux mots de passe doivent \xeatre identiques."});var l=r(2177),m=r(221),d=r(9711),o=r(2847),c=r(4477);let f=(0,c.createServerReference)("4077f5aec2583f6c314857b640a085ff381fc613f4",c.callServer,void 0,c.findSourceMapURL,"register");var x=r(5695),u=r(3568);function j(){let[e,s]=(0,t.useState)(!0),r=(0,l.mN)({resolver:(0,m.u)(i),defaultValues:{email:"",firstname:"",lastname:"",password:"",confirmPassword:""}}),n=async e=>{s(!1);let r=await f(e);"REGISTER_SUCCEED"==r.code?(u.Ay.success(r.message,{duration:1e4}),(0,x.redirect)("/login")):u.Ay.error(r.message),s(!0)};return(0,a.jsx)("form",{onSubmit:r.handleSubmit(n),className:"card w-full md:w-auto",children:(0,a.jsxs)("section",{className:"card-body items-center",children:[(0,a.jsx)("h2",{className:"card-title",children:"Inscription"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-0 md:gap-5 w-full",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.xI,{control:r.control,name:"email",render:e=>{let{field:s}=e;return(0,a.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,a.jsx)("legend",{className:"fieldset-legend",children:"Identifiant"}),(0,a.jsx)("input",{type:"text",className:"input",...s}),r.formState.errors.email&&(0,a.jsxs)("div",{role:"alert",className:"form-error",children:[(0,a.jsx)(d.i,{className:"icon"}),(0,a.jsx)("div",{children:r.formState.errors.email.message})]})]})}}),(0,a.jsx)(l.xI,{control:r.control,name:"password",render:e=>{let{field:s}=e;return(0,a.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,a.jsx)("legend",{className:"fieldset-legend",children:"Mot de passe"}),(0,a.jsx)("input",{type:"password",className:"input",...s}),r.formState.errors.password&&(0,a.jsxs)("div",{role:"alert",className:"form-error",children:[(0,a.jsx)(d.i,{className:"icon"}),(0,a.jsx)("div",{children:r.formState.errors.password.message})]})]})}}),(0,a.jsx)(l.xI,{control:r.control,name:"confirmPassword",render:e=>{let{field:s}=e;return(0,a.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,a.jsx)("legend",{className:"fieldset-legend",children:"Confirmer le mot de passe"}),(0,a.jsx)("input",{type:"password",className:"input",...s}),r.formState.errors.confirmPassword&&(0,a.jsxs)("div",{role:"alert",className:"form-error",children:[(0,a.jsx)(d.i,{className:"icon"}),(0,a.jsx)("div",{children:r.formState.errors.confirmPassword.message})]})]})}})]}),(0,a.jsxs)("div",{className:"h-full flex flex-col justify-center",children:[(0,a.jsx)(l.xI,{control:r.control,name:"firstname",render:e=>{let{field:s}=e;return(0,a.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,a.jsx)("legend",{className:"fieldset-legend",children:"Pr\xe9nom"}),(0,a.jsx)("input",{type:"text",className:"input",...s}),r.formState.errors.firstname&&(0,a.jsxs)("div",{role:"alert",className:"form-error",children:[(0,a.jsx)(d.i,{className:"icon"}),(0,a.jsx)("div",{children:r.formState.errors.firstname.message})]})]})}}),(0,a.jsx)(l.xI,{control:r.control,name:"lastname",render:e=>{let{field:s}=e;return(0,a.jsxs)("fieldset",{className:"fieldset mb-2",children:[(0,a.jsx)("legend",{className:"fieldset-legend",children:"Nom"}),(0,a.jsx)("input",{type:"text",className:"input",...s}),r.formState.errors.lastname&&(0,a.jsxs)("div",{role:"alert",className:"form-error",children:[(0,a.jsx)(d.i,{className:"icon"}),(0,a.jsx)("div",{children:r.formState.errors.lastname.message})]})]})}})]})]}),(0,a.jsx)("div",{className:"card-actions justify-end",children:(0,a.jsx)("fieldset",{className:"fieldset",children:(0,a.jsx)("div",{className:"mx-auto",children:(0,a.jsx)("button",{className:"btn btn-primary",type:e?"submit":"button",disabled:!e,children:e?"Inscription":(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.N,{weight:"bold",className:"icon animate-spin"})})})})})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[874,63,568,344,441,684,358],()=>s(517)),_N_E=e.O()}]);